============
## 实验五：图书管理系统数据库设计与界面设计

|学号|班级|姓名|
|:---------------:|:------------:|:------------:|
|201510414115|软件15-1|倪嘉瑞|

### 1.表数据库设计

**1.1 图书表**

|字段|类型|主键，外键|可以为空|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:-----|    
|bookId|int(10)|主键|否|||
|ISBN|varchar(10)| |否|||  
|bookName|varchar(50)| |否|||
|author|varchar(50)| |否|||  
|publisher|varchar(50)| |否|||
|price|float(10)| |否|||  
|cnum|int(50)| |否|||
|snum|int(50)| |否|||  
|summary|varchar(50)| |是|||
|photo|varbinary(3000)| |是|||

**1.2 读者表**

|字段|类型|主键，外键|可以为空|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:-----|    
|readerId|varchar(10)|主键|否|||
|name|varchar(50)| |否|||  
|password|varchar(10)| |否|||
|sex|bit(1)| |否|||  
|born|datetime(100)| |否|||
|spec|varchar(100)| |否|||  
|num|int(100)| |否|||
|photo|varbinary(3000)| |否|||  

**1.3 图书管理员表**

|字段|类型|主键，外键|可以为空|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:-----|    
|bookAdminId|varchar(10)|主键|否|||
|name|varchar(50)| |否|||  
|password|varchar(10)| |否|||
|sex|bit(1)| |否|||  
|born|datetime(100)| |否|||
|photo|varbinary(3000)| |否|||  

**1.3 超级管理员表**

|字段|类型|主键，外键|可以为空|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:-----|    
|superAdminId|varchar(10)|主键|否|||
|name|varchar(50)| |否|||  
|password|varchar(10)| |否|||
|sex|bit(1)| |否|||  
|born|datetime(100)| |否|||
|photo|varbinary(3000)| |否|||  
**1.4 借书表**

|字段|类型|主键，外键|可以为空|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:-----|    
|id|int(10)|主键|否|||
|readerId|varchar(10)|外键|否|||  
|bookId|varchar(10)|外键|否|||
|ISBN|varchar(10)| |否|||  
|lendConfirm|bit(1)| |否|||
|returnRequest|bit(1)| |否|||  
|ltime|datetime| |否|||  

## 2. 界面设计
**2.1 图书管理界面设计**
![图书管理](图书管理.png)
- 用例图参见：图书管理设计用例
- 类图参见：图书类
- 顺序图参见：图书管理设计顺序图
- API接口如下：

1. 图书追加

- 功能：用于获取增加图书信息
- 请求地址： http://localhost:8080/booksManage/lend.jsp
- 请求方法：POST
- 请求参数：如下

|参数名称|必填|说明|
|:-------:|:-------------: | :----------:|
|bookID|是|图书ID。 |
|ISBN|是|图书编号。|
|bookName|是|书名。|
|publisher|是|图书出版社。|
|price|是|图书价格。|

- 返回实例：
```
{
    "code": 200,
    "msg": "添加成功"
}
```
- 返回参数说明：
    
|参数名称|说明|
|:-------:|:-------------: |
|msg|请求响应结果|
|code|返回码|

2. 图书删除

- 功能：用于从图书表中删去信息
- 请求地址： http://localhost:8080/booksManage/lend.jsp
- 请求方法：GET
- 请求参数：bookId(String)

|参数名称|必填|说明|
|:-------:|:-------------: | :----------:|
|ISBN|是|用于指定图书编号 |
|bookId|是|用于指定图书ID |
|method|是|固定为 “POST”。|

- 返回实例：
```
{
    "code": 200,
    "msg": "删除成功"
}
```
- 返回参数说明：
    
|参数名称|说明|
|:-------:|:-------------: |
|msg|请求响应结果|
|code|返回码|

3. 图书修改

- 功能：用于在图书表中修改指定信息
- 请求地址： http://localhost:8080/booksManage/lend.jsp
- 请求方法：GET
- 请求参数：如下

|参数名称|必填|说明|
|:-------:|:-------------: | :----------:|
|bookID|是|图书ID。 |
|ISBN|是|图书编号。|
|bookName|是|书名。|
|publisher|是|图书出版社。|
|price|是|图书价格。|

- 返回实例：
```
{
    "code": 200,
    "msg": "修改成功"
}
```
- 返回参数说明：
    
|参数名称|说明|
|:-------:|:-------------: |
|msg|请求响应结果|
|code|返回码|

4. 图书查询

- 功能：用于从图书表中删去信息
- 请求地址： http://localhost:8080/booksManage/lend.jsp
- 请求方法：GET
- 请求参数：bookId(String)

|参数名称|必填|说明|
|:-------:|:-------------: | :----------:|
|ISBN|是|用于指定图书编号 |
|bookId|是|用于指定图书ID |
|method|是|固定为 “POST”。|

- 返回实例：
```
{
    "code": 200,
    "data": {
            "bookID": "sad",
            "ISBN": "sadasd-dasd-asdads",
            "bookName": 信息系统,
            "publisher": "清华大学出版社",
            "price": "98.00",
            "summary": "大三大四多大三的",
            "cnum":"11",
            "snum":"5",
            "photo": "??WExif",
     },
    "msg": "查询成功"
}
```
- 返回参数说明：
    
|参数名称|说明|
|:-------:|:-------------: |
|bookID|图书ID。 |
|ISBN|图书编号。|
|bookName|书名。|
|publisher|图书出版社。|
|price|图书价格。|
|summary|图书信息描述。|
|snum|图书库存量。|
|cnum|图书复本量。|
|msg|请求响应结果|
|code|返回码|














